<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İnteraktif PMP Çalışma Planı (Nihai Sürüm)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate, Indigo, Amber, Red (for Udemy), Teal (for Quizzes) -->
    <!-- Application Structure Plan: The application uses a task-oriented, dashboard-like structure with a primary accordion view for the 14-week plan. This was chosen to allow users to focus on one week at a time, preventing information overload, while still providing a clear sense of progression through a main progress bar and phase-based navigation. Checkboxes for daily completion offer interactive feedback and motivation. The structure is designed for the primary user task: 'What do I need to study today?'. -->
    <!-- Visualization & Content Choices: 
         - Overall Structure: Report's 14-week plan -> Goal: Guide user daily -> Viz: Interactive Accordion List with Checkboxes -> Interaction: Click to expand, check to complete -> Justification: Breaks down a long plan into manageable daily chunks, provides progress tracking. -> Method: JS-rendered HTML/Tailwind.
         - Phase Breakdown: Report's 4 phases -> Goal: Provide a high-level overview -> Viz: Donut Chart -> Interaction: Static display -> Justification: Quickly communicates the proportional effort for each phase of the study plan. -> Library: Chart.js/Canvas.
         - Overall Progress: User's completion status -> Goal: Motivate user -> Viz: Horizontal Progress Bar -> Interaction: Updates on checkbox click -> Justification: Constant visual reinforcement of accomplishment. -> Method: HTML/Tailwind + JS.
         - Daily Details (İpucu, Soru vb.): Report's daily guidance -> Goal: Inform and reinforce -> Viz: Icon-prefixed text blocks -> Interaction: Static -> Justification: Uses visual cues (icons) to differentiate content types for better scannability. -> Method: HTML/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .phase-btn.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
        }
        .week-header.completed {
            background-color: #dcfce7; /* green-100 */
        }
        .week-header.completed .week-title {
            text-decoration: line-through;
            color: #166534; /* green-800 */
        }
        .task-card.completed {
             background-color: #f0fdf4; /* green-50 */
             border-left-color: #22c55e; /* green-500 */
        }
        .task-card.completed p, .task-card.completed h4 {
            text-decoration: line-through;
            color: #6b7280; /* gray-500 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 250px;
            height: 250px;
            margin: auto;
        }
    </style>
</head>
<body class="antialiased text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        <!-- HEADER -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-indigo-600">PMP Sınavı Yol Haritası</h1>
            <p class="text-slate-500 mt-2 text-lg">14 Haftalık İnteraktif Çalışma Planı (Nihai Sürüm)</p>
        </header>

        <!-- DASHBOARD -->
        <div class="bg-white p-6 rounded-2xl shadow-lg mb-8 grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
            <div class="md:col-span-2">
                <h2 class="text-2xl font-bold mb-4">Genel İlerleme</h2>
                <div class="w-full bg-slate-200 rounded-full h-8">
                    <div id="progress-bar" class="bg-indigo-600 h-8 text-white font-medium text-sm text-center p-1 leading-6 rounded-full transition-all duration-500" style="width: 0%">
                        <span id="progress-text">0%</span>
                    </div>
                </div>
                <p id="progress-summary" class="text-slate-500 mt-3 text-center">Başlamak için ilk görevinizi işaretleyin!</p>
            </div>
            <div class="chart-container">
                <canvas id="phase-chart"></canvas>
            </div>
        </div>

        <!-- PHASE NAVIGATION -->
        <nav class="mb-8">
            <h3 class="text-xl font-bold mb-4 text-center">Fazlar</h3>
            <div id="phase-navigation" class="flex flex-wrap justify-center gap-2 md:gap-4">
                <!-- Phase buttons will be generated by JS -->
            </div>
        </nav>

        <!-- STUDY PLAN CONTAINER -->
        <main id="study-plan-container">
            <!-- Weeks will be generated by JS -->
        </main>

        <!-- FOOTER -->
        <footer class="text-center mt-12 text-slate-400">
            <p>Bu plan, PMP hedefinize ulaşmanız için bir rehberdir. Başarılar!</p>
        </footer>
    </div>

    <script>
        // Data structure for the entire 14-week plan.
        // This is the complete and final version, incorporating all relevant course videos.
        const allWeeksData = [
            // FAZ 1: Temeller ve Geleneksel Yaklaşım (Hafta 1-4)
            { week: 1, phase: 1, title: "Proje Yönetimi Evreni", days: [
                { day: "Pazartesi", title: "Proje, Program, Portföy", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 1.1, 1.2, 1.3, 1.4, 1.5." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'What is a Project', 'What is Project Management', 'What is Program Management', 'What is Portfolio Management', 'Operations Management'. Toplam: ~19 dk." },
                    { type: "Alınacak Notlar", content: "Proje, program ve portföy arasındaki hiyerarşiyi gösteren bir şema çizin. Her birinin amacını karşılaştırın." },
                    { type: "Günün İpucu", content: "Portföy 'doğru işleri yapmak', proje ise 'işleri doğru yapmaktır'." }
                ]},
                { day: "Salı", title: "Değer, Değişim ve Yaşam Döngüsü", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 1.6, 1.7." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'What is the value of the project', 'Projects enable changes', 'Phases and Deliverables', 'Project Life Cycle', 'Project Management Approaches'. Toplam: ~27 dk." },
                    { type: "Alınacak Notlar", content: "Öngörücü, yinelemeli, artırımlı ve çevik yaşam döngülerini bir tablo ile karşılaştırın." },
                    { type: "Günün İpucu", content: "Her projenin temel amacı 'iş değeri' yaratmaktır." }
                ]},
                { day: "Çarşamba", title: "Organizasyonel Yapı ve Çevre", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 2.1, 2.2, 2.3, 2.5." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Project Governance', 'Project Management Office', 'Organizational Structures', 'Enterprise Environmental Factors', 'Organization Process Assets'. Toplam: ~24 dk." },
                    { type: "Alınacak Notlar", content: "Fonksiyonel, Matris (Zayıf, Dengeli, Güçlü) ve Proje Odaklı yapıları karşılaştırın. ÇİF ve OSV farklarını not alın." },
                    { type: "Günün İpucu", content: "ÇİF'ler 'hava durumu' (kontrol dışı), OSV'ler 'alet çantasıdır' (kurum içi birikim)." }
                ]},
                { day: "Perşembe", title: "Proje Yöneticisinin Rolü", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 3.1, 3.2, 3.3, 3.4." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Roles of a Project manager', 'Project Bosses', 'Product vs Project Management', 'Leadership vs. Management', 'Emotional Intelligence'. Toplam: ~35 dk." },
                    { type: "Alınacak Notlar", content: "PMI Yetenek Üçgeni'ni (Teknik, Liderlik, Stratejik) çizin. Liderlik ve yöneticilik farklarını yazın." },
                    { type: "Günün İpucu", content: "Proje yöneticisinin zamanının %90'ı iletişimle geçer." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Stakeholders', 'What are milestones', 'Areas of a project', 'Risk vs. Issues vs. Assumptions vs. Constraints', 'Project Constraints'. Toplam: ~26 dk." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Terms and process groups Questions' quizini çözün." },
                    { type: "Alınacak Notlar", content: "Bu haftanın en önemli 5 kavramını kendi cümlelerinizle özetleyin." }
                ]}
            ]},
            { week: 2, phase: 1, title: "PMI Prensipleri ve PMBOK 7'ye Giriş", days: [
                { day: "Pazartesi", title: "Prensipler 1-6", tasks: [
                    { type: "Okunacak Bölümler", content: "PMBOK7 - Proje Yönetimi Standardı, Bölüm 3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Introduction to PM Principles', 'The 12 Principles of project management', 'Stewardship', 'Team', 'Stakeholders', 'Value'. Toplam: ~48 dk." },
                    { type: "Alınacak Notlar", content: "12 Prensibi listeleyin. İlk 6 prensibi (Sorumlu Liderlik, Ekip, Paydaşlar, Değer, Sistem Düşüncesi, Liderlik) birer cümleyle açıklayın." }
                ]},
                { day: "Salı", title: "Prensipler 7-12", tasks: [
                    { type: "Okunacak Bölümler", content: "PMBOK7 - Proje Yönetimi Standardı, Bölüm 3 (tekrar)." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Systems Thinking', 'Leadership', 'Tailoring', 'Quality', 'Complexity', 'Risk', 'Adaptability and Resiliency', 'Change'. Toplam: ~49 dk." },
                    { type: "Alınacak Notlar", content: "Kalan 6 prensibi (Uyarlama, Kalite, Karmaşıklık, Risk, Uyarlanabilirlik, Değişim) birer cümleyle açıklayın." }
                ]},
                { day: "Çarşamba", title: "Performans Alanları 1-3", tasks: [
                    { type: "Okunacak Bölümler", content: "PMBOK7 - Bölüm 2.1, 2.2, 2.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Project Performance Domains intro', 'Stakeholder Performance Domain', 'Team Performance Domain', 'Development Approach Life Cycle Performance Domain'. Toplam: ~48 dk." },
                    { type: "Alınacak Notlar", content: "Paydaş, Ekip ve Geliştirme Yaklaşımı performans alanlarının amaçlarını özetleyin." }
                ]},
                { day: "Perşembe", title: "Performans Alanları 4-8", tasks: [
                    { type: "Okunacak Bölümler", content: "PMBOK7 - Bölüm 2.4, 2.5, 2.6, 2.7, 2.8." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Planning performance domain', 'Work performance domain', 'Delivery Performance Domain', 'Measurement Performance Domain', 'Uncertainty Performance Domain'. Toplam: ~50 dk." },
                    { type: "Alınacak Notlar", content: "Planlama, Proje Çalışması, Teslimat, Ölçüm ve Belirsizlik performans alanlarının amaçlarını özetleyin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'PMI Code of Ethics and Professional Conduct', 'Truth', 'Laws', 'Gifts and Donations', 'Permission', 'PMI'. Toplam: ~20 dk." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Integration Quiz'ini çözün." },
                    { type: "Alınacak Notlar", content: "PMI Etik Kurallarının dört temel değerini (Sorumluluk, Saygı, Adalet, Dürüstlük) yazın." }
                ]}
            ]},
            { week: 3, phase: 1, title: "Geleneksel Planlama - Kapsam, Zaman, Maliyet", days: [
                { day: "Pazartesi", title: "Entegrasyon ve Kapsam Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 4.1, 4.2, 5.1, 5.2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Develop Project Charter', 'Develop Project Management Plan', 'Plan Scope Management', 'Collect Requirements'. Toplam: ~52 dk." },
                    { type: "Alınacak Notlar", content: "Proje Başlatma Belgesi ve Proje Yönetim Planı'nın ana bileşenlerini yazın. Gereksinim toplama tekniklerini listeleyin." }
                ]},
                { day: "Salı", title: "Kapsam Tanımlama ve Zaman Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 5.3, 5.4, 6.1, 6.2, 6.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Define Scope', 'Create WBS', 'Plan Schedule Management', 'Define Activities', 'Sequence Activities'. Toplam: ~45 dk." },
                    { type: "Alınacak Notlar", content: "İKY ve İKY Sözlüğü nedir? Bağımlılık türlerini (FS, SS, FF, SF) örneklerle açıklayın." }
                ]},
                { day: "Çarşamba", title: "Kritik Yol Metodu (CPM)", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 6.4, 6.5." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Estimate Activity Durations', 'PERT Formula', 'Develop Schedule', 'Critical Path Method Intro', 'Critical Path Method', 'Calculate Critical Path', 'Calculate float or slack'. Toplam: ~51 dk." },
                    { type: "Alınacak Notlar", content: "Üç Nokta Tahmin (PERT) formülünü yazın. Kritik Yol ve Bolluk (Float/Slack) kavramlarını tanımlayın." }
                ]},
                { day: "Perşembe", title: "CPM Pratiği ve Maliyet Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 7.1, 7.2, 7.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Forward Pass', 'Backward Pass', 'Free Float', 'CPM Practice 1 & 2', 'Plan Cost Management', 'Estimate Cost', 'Determine Budget'. Toplam: ~58 dk." },
                    { type: "Alınacak Notlar", content: "İleri ve geri geçiş hesaplamalarını bir örnek üzerinde deneyin. Maliyet Temel Çizgisi ve Proje Bütçesi'nin bileşenlerini çizin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'CPM Practice 2 Answer' videosunu izleyerek pratiğinizi kontrol edin." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Scope Management Quiz', 'Schedule Management Quiz' ve 'Cost Management Quiz'lerini çözün." },
                    { type: "Alınacak Notlar", content: "Kapsam, Zaman ve Maliyet temel çizgilerinin ne anlama geldiğini ve ne içerdiğini özetleyin." }
                ]}
            ]},
            { week: 4, phase: 1, title: "Geleneksel Planlama - Destekleyici Alanlar", days: [
                { day: "Pazartesi", title: "Kalite ve Kaynak Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 8.1, 9.1, 9.2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Plan Quality Management', 'Plan Resources Management', 'Estimate Activity Resources'. Toplam: ~28 dk." },
                    { type: "Alınacak Notlar", content: "Kalite Maliyeti (Uygunluk/Uygunsuzluk) kavramını açıklayın. RAM/RACI şeması nedir?" }
                ]},
                { day: "Salı", title: "İletişim ve Risk Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 10.1, 11.1, 11.2, 11.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Plan Communication Management', 'Plan Risk Management', 'Identify Risks', 'Perform Qualitative Risk Analysis'. Toplam: ~35 dk." },
                    { type: "Alınacak Notlar", content: "İletişim Yönetim Planı'nın ana unsurlarını yazın. Olasılık ve Etki Matrisi'ni çizin." }
                ]},
                { day: "Çarşamba", title: "Risk ve Tedarik Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 11.4, 11.5, 12.1." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Preform Quantitative Risk Analysis', 'Plan Risk Response', 'Plan Procurement Management'. Toplam: ~34 dk." },
                    { type: "Alınacak Notlar", content: "Risk yanıt stratejilerini (Tehdit/Fırsat) listeleyin. Sözleşme türlerini (Sabit Fiyatlı, Maliyet Artı, T&M) karşılaştırın." }
                ]},
                { day: "Perşembe", title: "Paydaş Planlama ve Genel Kavramlar", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 13.1, 13.2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Plan Stakeholder Engagement', 'Expert Judgement', 'Data Gathering...', 'Interpersonal and Team Skills', 'Project Documents', 'PMIS', 'Work Performance Data, Info and report', 'Updates'. Toplam: ~44 dk." },
                    { type: "Alınacak Notlar", content: "Paydaş Katılım Matrisi'ni çizin. WPD, WPI, WPR arasındaki farkı not alın." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'End of Planning' videosunu izleyerek planlama fazını özetleyin." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Quality Quiz', 'Resource Management Questions', 'Communications Management Questions', 'Risk Management Quiz', 'Procurement Management Quiz', 'Stakeholders Management Quiz' quizlerini çözün." },
                    { type: "Alınacak Notlar", content: "Tüm planlama süreçlerinin ana çıktılarını bir tablo halinde özetleyin." }
                ]}
            ]},
            // FAZ 2: Çevik ve Hibrit Yaklaşımlar (Hafta 5-8)
            { week: 5, phase: 2, title: "Çevik Felsefesi ve Metotlar", days: [
                { day: "Pazartesi", title: "Çevikliğe Giriş ve Manifesto", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Bölüm 1, 2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'What is agile', 'Agile vs. Traditional PM', 'Agile Benefits', 'Inverting the triangle', 'Agile Manifesto' ve 4 değer videosu. Toplam: ~30 dk." },
                    { type: "Alınacak Notlar", content: "Çevik Manifesto'nun 4 değerini ve 12 ilkesini yazın. Geleneksel ve Çevik projeler arasındaki temel farkları listeleyin." }
                ]},
                { day: "Salı", title: "Scrum ve XP", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Scrum ve XP ile ilgili bölümler." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Agile Guiding Principles', 'Agile Methods', 'Agile Process', 'Scrum', 'Scrum Activities', 'Scrum Artifacts', 'Extreme Programming', 'XP Roles', 'XP Practices'. Toplam: ~79 dk." },
                    { type: "Alınacak Notlar", content: "Scrum'ın 3 rolünü, 5 seremonisini ve 3 artefaktını bir şema ile gösterin. XP'nin temel uygulamalarını (örn: Eşli Programlama) not alın." }
                ]},
                { day: "Çarşamba", title: "Yalın, Kanban ve Diğer Metotlar", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Kanban ile ilgili bölümler." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Basic Terminology review', 'Lean Development', 'Kanban Development', 'Limit WIP', 'Cumulative Flow Diagrams', 'Other agile methods', 'Agile declaration of Interdependence'. Toplam: ~33 dk." },
                    { type: "Alınacak Notlar", content: "Kanban tahtası örneği çizin. WIP (Work in Progress) limitinin önemini açıklayın. Yalın'ın 7 israfını listeleyin." }
                ]},
                { day: "Perşembe", title: "Hibrit Yaklaşımlar", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Bölüm 3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Hybrid Introduction', 'Definable vs. Uncertainty', 'Four Life Cycles', 'Hybrid Method 1', 'Hybrid Method 2', 'Hybrid Method 3', 'Hybrid method 4', 'Hybrid Fit for purpose'. Toplam: ~47 dk." },
                    { type: "Alınacak Notlar", content: "Hangi durumlarda hibrit yaklaşımın uygun olduğunu yazın. Farklı hibrit modelleri özetleyin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Agile mindset' videosunu izleyerek çevik zihniyeti pekiştirin." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Agile Quiz'ini (20 soru) çözün." },
                    { type: "Alınacak Notlar", content: "Scrum, Kanban ve XP arasındaki temel farkları bir tablo ile karşılaştırın." }
                ]}
            ]},
            { week: 6, phase: 2, title: "Çevik Ortamda Değer Yaratma", days: [
                { day: "Pazartesi", title: "Değer Odaklı Teslimat", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Değer ve MVP ile ilgili bölümler." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Leading Effectively', 'Value-Driven Delivery', 'Early Value Delivery', 'Reduce Waste', 'Minimal Viable Product', 'Delivering Value Incrementally'. Toplam: ~29 dk." },
                    { type: "Alınacak Notlar", content: "MVP (Minimum Viable Product) nedir? Değer odaklı teslimatın prensiplerini yazın." }
                ]},
                { day: "Salı", title: "Değeri Ölçme ve Önceliklendirme", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Önceliklendirme teknikleri." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Assessing Value - Financial metrics', 'Key Performance Indicators', 'How Customers Conduct Value Prioritization', 'Different Prioritization Techniques', 'Kano Analysis'. Toplam: ~19 dk." },
                    { type: "Alınacak Notlar", content: "MoSCoW, Kano Modeli gibi önceliklendirme tekniklerini özetleyin. NPV, ROI gibi finansal metrikleri hatırlayın." }
                ]},
                { day: "Çarşamba", title: "Çevik Sözleşmeler ve Uyum", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Çevik Sözleşmeler." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Accounting on agile projects', 'Regulatory Compliance', 'Risk Management' (Agile), 'Agile Contracting', 'Verifying and Validating'. Toplam: ~21 dk." },
                    { type: "Alınacak Notlar", content: "Çevik projeler için uygun sözleşme türlerini (örn: Aşamalı Finansman) not alın." }
                ]},
                { day: "Perşembe", title: "Çevik Takım ve Liderlik", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Bölüm 4." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'People Over Processes', 'Development Team roles', 'Building Agile teams', 'Safe place', 'Models of team development', 'Tuckman Five stages of team development', 'Training, coaching, and mentoring', 'Team Spaces'. Toplam: ~40 dk." },
                    { type: "Alınacak Notlar", content: "Hizmetkâr Liderin özelliklerini yazın. Tuckman'ın ekip gelişim aşamalarını (Forming, Storming, Norming, Performing) çizin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Tools for Agile Projects' videosunu izleyin." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Building High-Performance Teams' bölümünün sonundaki 'Quiz'i (20 soru) çözün." },
                    { type: "Alınacak Notlar", content: "Yüksek performanslı bir çevik ekibin 5 özelliğini yazın." }
                ]}
            ]},
            { week: 7, phase: 2, title: "Çevik Paydaş Yönetimi ve İletişim", days: [
                { day: "Pazartesi", title: "Paydaş Etkileşimi", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Bölüm 5." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Stakeholder Stewardship', 'Educating People about agile', 'Engaging Stakeholders', 'Methods of Stakeholder Engagement'. Toplam: ~11 dk." },
                    { type: "Alınacak Notlar", content: "Çevik projelerde paydaş katılımının neden sürekli olması gerektiğini açıklayın." }
                ]},
                { day: "Salı", title: "Ortak Vizyon ve Modelleme", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Modelleme ve Persona." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Agile Chartering', 'Definition of Done', 'Set a shared vision', 'Agile Modeling', 'Personas'. Toplam: ~16 dk." },
                    { type: "Alınacak Notlar", content: "Bitti Tanımı (Definition of Done) ve Kabul Kriterleri (Acceptance Criteria) arasındaki farkı yazın. Persona nedir, ne işe yarar?" }
                ]},
                { day: "Çarşamba", title: "İletişim ve İşbirliği Teknikleri", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - İşbirliği." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Communicating with stakeholders', 'Green Zone and Red Zone', 'How to conduct a workshop', 'Brainstorming', 'Collaboration Games'. Toplam: ~26 dk." },
                    { type: "Alınacak Notlar", content: "Bilgi radyatörleri (Information Radiators) nelerdir? Örnekler verin (Kanban tahtası, yanma grafiği vb.)." }
                ]},
                { day: "Perşembe", title: "Yumuşak Beceriler ve Çatışma Yönetimi", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Duygusal Zeka ve Çatışma Yönetimi." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Using Critical Soft Skills', 'Emotional Intelligence' (Agile), 'Negotiation', 'Active Listening', 'Facilitation', 'Conflict Resolution', 'Participatory Decision Models', 'Meetings'. Toplam: ~26 dk." },
                    { type: "Alınacak Notlar", content: "Çatışma yönetimi tekniklerini (İşbirliği, Geri Çekilme, Zorlama vb.) listeleyin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Burn and Velocity charts' videosunu izleyerek çevik metrikleri pekiştirin." },
                    { type: "Haftanın Quizleri", content: "Bu hafta öğrendiğiniz konularla ilgili önceki quiz'lerdeki yanlışlarınızı gözden geçirin." },
                    { type: "Alınacak Notlar", content: "Çevik bir projede iletişimi ve şeffaflığı artırmak için kullanılabilecek 5 aracı listeleyin." }
                ]}
            ]},
            { week: 8, phase: 2, title: "Çevik Planlama ve Sürekli İyileştirme", days: [
                { day: "Pazartesi", title: "Uyarlanabilir Planlama", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Uyarlanabilir Planlama." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'What is adaptive planning', 'Agile Plans', 'Progressive Elaboration', 'Value Decomposition and Design the product box', 'Coarse Requirements', 'Timeboxing', 'Ideal Time'. Toplam: ~22 dk." },
                    { type: "Alınacak Notlar", content: "Kullanıcı Hikayesi (User Story) formatını (Bir <rol> olarak...) ve INVEST kriterlerini yazın." }
                ]},
                { day: "Salı", title: "Tahminleme Teknikleri", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Tahminleme." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'User Stories', 'User Story Backlog', 'Assigning points to the stories using Fibonacci Sequence', 'Story Points and T-Shirt Sizing', 'Wideband Delphi', 'Using Planning Poker to assign story points'. Toplam: ~27 dk." },
                    { type: "Alınacak Notlar", content: "Hikaye Puanı (Story Point) nedir? Planlama Pokeri nasıl oynanır?" }
                ]},
                { day: "Çarşamba", title: "Sürekli İyileştirme (Kaizen)", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Sürekli İyileştirme." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Iteration and Release Planning', 'Understand how problems happens', 'Technical Debt', 'Success and Failure Modes', 'Lead time and Cycle time', 'Defects', 'Variances and Control Limits', 'Fixing Problems', 'Kaizen'. Toplam: ~42 dk." },
                    { type: "Alınacak Notlar", content: "Teknik Borç (Technical Debt) nedir? Kaizen felsefesini açıklayın." }
                ]},
                { day: "Perşembe", title: "Retrospektifler", tasks: [
                    { type: "Okunacak Bölümler", content: "ÇUK - Retrospektifler." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Customize Processes', 'Value Stream Maps', 'Project Pre-Mortems', 'Retrospective Intro' ve 5 adım videosu ('Set the stage', 'Gather Data', 'Generate insights', 'Decide what to to do', 'Close the retrospective'), 'Team self-assessment'. Toplam: ~30 dk." },
                    { type: "Alınacak Notlar", content: "Bir retrospektifin 5 adımını yazın. Değer Akış Haritalama (Value Stream Mapping) nedir?" }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Story Maps and Product Roadmaps', 'Iterations and Spikes' videolarını izleyin." },
                    { type: "Haftanın Quizleri", content: "Udemy: 'Agile Planning, Problem Resolution and Continuous Improvement' bölümünün sonundaki 'Quiz'i (25 soru) çözün." },
                    { type: "Alınacak Notlar", content: "Çevik bir projede karşılaşılabilecek 3 yaygın sorunu ve olası çözümlerini yazın." }
                ]}
            ]},
            // FAZ 3: Yürütme, İzleme, Kontrol ve Kapanış (Hafta 9-10)
            { week: 9, phase: 3, title: "Geleneksel Projeyi Yürütme", days: [
                { day: "Pazartesi", title: "İşi Yönetme ve Bilgi Akışı", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 4.3, 4.4, 8.2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Executing', 'Direct and manage Project work', 'Manage Project Knowledge', 'Manage Quality'. Toplam: ~27 dk." },
                    { type: "Alınacak Notlar", content: "Proje Çalışmasını Yönlendirme ve Yönetme sürecinin ana girdilerini ve çıktılarını yazın." }
                ]},
                { day: "Salı", title: "Kaynak ve Ekip Yönetimi", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 9.3, 9.4, 9.5." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Acquire Resources', 'Develop Team', 'OSCAR Model', 'Drexler Sibbet Team Model', 'Manage Team'. Toplam: ~38 dk." },
                    { type: "Alınacak Notlar", content: "Ekip Geliştirme ve Ekibi Yönetme arasındaki farkı açıklayın." }
                ]},
                { day: "Çarşamba", title: "İletişim, Risk ve Tedarik", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 10.2, 11.6, 12.2." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'People Management Terms', 'MBTI', 'Project Communications', 'Implement Risk Responses', 'Conduct Procurements'. Toplam: ~28 dk." },
                    { type: "Alınacak Notlar", content: "İletişimi Yönetme sürecinin önemini vurgulayın. Risk Yanıtlarını Uygulama nedir?" }
                ]},
                { day: "Perşembe", title: "Paydaş Yönetimi ve Faz Sonu", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 13.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Manage Stakeholder Engagement', 'End of Executing'. Toplam: ~4 dk." },
                    { type: "Alınacak Notlar", content: "Paydaş Katılımını Yönetme sürecinin ana araç ve tekniklerini listeleyin." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Haftanın Quizleri", content: "Önceki haftaların quiz'lerinden rastgele 20 soru çözün. Özellikle Yürütme süreçleri ile ilgili olanlara odaklanın." },
                    { type: "Alınacak Notlar", content: "Yürütme süreç grubunun temel amacını ve Planlama ile İzleme-Kontrol arasındaki köprü rolünü özetleyin." }
                ]}
            ]},
            { week: 10, phase: 3, title: "İzleme, Kontrol ve Kapanış", days: [
                { day: "Pazartesi", title: "Entegre Kontrol ve Kapsam", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 4.5, 4.6, 5.5, 5.6." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Intro to Monitoring and Controlling', 'Monitor and Control Project Work', 'Perform Integrated Change Control', 'Validate Scope', 'Control Scope, Schedule, Cost'. Toplam: ~43 dk." },
                    { type: "Alınacak Notlar", content: "Entegre Değişiklik Kontrolü sürecinin adımlarını yazın. Kapsamı Doğrulama ve Kapsamı Kontrol Etme farkı nedir?" }
                ]},
                { day: "Salı", title: "Kazanılmış Değer Yönetimi (EVM)", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 6.6, 7.4 (EVM ile ilgili bölümler)." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Earned Value Management Intro', 'Earned Value Management', 'Earned Value Management Formulas', 'Earned Value Management Scenario 1'. Toplam: ~40 dk." },
                    { type: "Alınacak Notlar", content: "Tüm EVM formüllerini (CPI, SPI, EAC, ETC, VAC, TCPI) bir formül kağıdına yazın ve anlamlarını açıklayın." }
                ]},
                { day: "Çarşamba", title: "Kalite, Kaynak, İletişim Kontrolü", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 8.3, 9.6, 10.3." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'EVM Formulas Tips', 'Earned Value Management Scenario 2 Problem & Answers', 'Control Quality', 'Control Resources', 'Monitor Communication'. Toplam: ~28 dk." },
                    { type: "Alınacak Notlar", content: "Kalite Kontrol araçlarını (örn: Pareto, Kontrol Şeması, Histogram) listeleyin." }
                ]},
                { day: "Perşembe", title: "Risk, Tedarik, Paydaş Kontrolü ve Kapanış", tasks: [
                    { type: "Okunacak Bölümler", content: "SGK - Bölüm 11.7, 12.3, 13.4, 4.7." },
                    { type: "Video Pekiştirme (Udemy)", content: "İzlenecekler: 'Monitor Risk', 'Control Procurements', 'Monitor Stakeholder Engagement', 'Close Project or Phase'. Toplam: ~21 dk." },
                    { type: "Alınacak Notlar", content: "Proje veya Fazı Kapatma sürecinin ana aktivitelerini (sözleşme kapatma, dersler çıkarma, kaynakları serbest bırakma vb.) yazın." }
                ]},
                { day: "Cuma", title: "Haftalık Tekrar ve Pratik", tasks: [
                    { type: "Haftanın Quizleri", content: "İlgili tüm quiz'leri (Integration, Scope, Schedule, Cost, Quality, Resource, Communications, Risk, Procurement, Stakeholders) tekrar çözün. Özellikle yanlışlarınıza odaklanın." },
                    { type: "Alınacak Notlar", content: "İzleme ve Kontrol süreç grubunun temel amacının 'plan ile performansı karşılaştırmak ve sapmaları yönetmek' olduğunu yazın." }
                ]}
            ]},
            // FAZ 4: Sınav Simülasyonu ve Son Hazırlık (Hafta 11-14)
            { week: 11, phase: 4, title: "İlk Tam Deneme Sınavı ve Analiz", days: [
                { day: "Pazartesi", title: "Deneme Sınavı 1", tasks: [
                    { type: "Görev", content: "İlk tam süreli (180 soru) deneme sınavınızı çözün. Udemy'deki '180 Question Mock Exam' bunun için harika bir kaynak." }
                ]},
                { day: "Salı", title: "Analiz (1-60)", tasks: [
                    { type: "Görev", content: "Sınavın ilk 60 sorusunu detaylı analiz edin (Tüm doğru ve yanlışların açıklamalarını okuyun)." },
                    { type: "Video Pekiştirme (Udemy)", content: "Yanlış yaptığınız soruların ait olduğu konularla ilgili Udemy'deki 'PM Mindset' veya 'ECO Review' bölümlerindeki ilgili videoları tekrar izleyin." }
                ]},
                { day: "Çarşamba", title: "Analiz (61-120)", tasks: [
                    { type: "Görev", content: "Sınavın 61-120 arasındaki sorularını detaylı analiz edin." },
                    { type: "Günün İpucu", content: "Sadece yanlışlarınıza değil, doğru yaptığınız ama emin olamadığınız sorulara da odaklanın." }
                ]},
                { day: "Perşembe", title: "Analiz (121-180)", tasks: [
                    { type: "Görev", content: "Sınavın 121-180 arasındaki sorularını detaylı analiz edin." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy'deki 'Drag and Drop Questions' bölümünden ilk 7 videoyu izleyerek pratik yapın." }
                ]},
                { day: "Cuma", title: "Odaklı Tekrar", tasks: [
                    { type: "Görev", content: "En zayıf olduğunuz 3 alanı belirleyin ve bu konuları kitaplardan ve notlarınızdan tekrar okuyun." },
                    { type: "Video Pekiştirme (Udemy)", content: "Bu 3 zayıf alanla ilgili Udemy videolarını hızlandırarak tekrar izleyin." }
                ]}
            ]},
            { week: 12, phase: 4, title: "İkinci Tam Deneme ve Odaklı Tekrar", days: [
                { day: "Pazartesi", title: "Deneme Sınavı 2", tasks: [{ type: "Görev", content: "İkinci tam süreli deneme sınavınızı çözün (farklı bir kaynaktan veya Udemy'nin ek sorularından)." }]},
                { day: "Salı", title: "Analiz (1-90)", tasks: [{ type: "Görev", content: "Sınavın ilk 90 sorusunu analiz edin. İlk sınava göre gelişiminizi gözlemleyin." }]},
                { day: "Çarşamba", title: "Analiz (91-180)", tasks: [{ type: "Görev", content: "Sınavın son 90 sorusunu analiz edin." }]},
                { day: "Perşembe", title: "Odaklı Tekrar 1", tasks: [
                    { type: "Görev", content: "Bu sınavda en zayıf çıkan 2 alana odaklanarak konu tekrarı yapın." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy: '200 Scenario Practice Questions with Video Explanation' bölümünden, zayıf olduğunuz alanlarla ilgili senaryoları izleyin." }
                ]},
                { day: "Cuma", title: "Odaklı Tekrar 2", tasks: [
                    { type: "Görev", content: "Zayıf alanlarınıza özel testler çözün (varsa ek kaynaklarınızdan)." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy'deki 'Drag and Drop Questions' bölümünden kalan videoları (8-14) izleyin." }
                ]}
            ]},
            { week: 13, phase: 4, title: "Üçüncü Tam Deneme ve Zihin Haritaları", days: [
                { day: "Pazartesi", title: "Deneme Sınavı 3", tasks: [{ type: "Görev", content: "Üçüncü tam süreli deneme sınavınızı çözün." }]},
                { day: "Salı", title: "Hızlı Analiz", tasks: [{ type: "Görev", content: "Sadece yanlışlarınıza ve emin olamadığınız doğrulara odaklanarak hızlı analiz yapın." }]},
                { day: "Çarşamba", title: "Zihin Haritaları", tasks: [{ type: "Görev", content: "Tüm notlarınızı kullanarak ana konular için zihin haritaları (mind maps) oluşturun. Süreç grupları, bilgi alanları, çeviklik vb." }]},
                { day: "Perşembe", title: "Son Tekrar ve Başvuru", tasks: [
                    { type: "Görev", content: "Oluşturduğunuz zihin haritalarını ve formül kağıdınızı tekrar edin. PMI sınav başvurusunu doldurun ve gönderin." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy: 'PMP Application' ile ilgili videoları başvuru sırasında kullanın. İpucu: 'Writing the description using AI' videosuna göz atın." },
                    { type: "Opsiyonel Tekrar", content: "Zamanınız kalırsa, '100 Drag & Drop Questions in 1 Video' ile hızlı bir tekrar yapın."}
                ]},
                { day: "Cuma", title: "Hafif Tekrar", tasks: [{ type: "Görev", content: "En çok zorlandığınız 1-2 konuya son kez göz atın. Formül kağıdınızı ezberden yazmaya çalışın." }]}
            ]},
            { week: 14, phase: 4, title: "Zihinsel Hazırlık ve Dinlenme", days: [
                { day: "Pazartesi", title: "Genel Tekrar", tasks: [{ type: "Görev", content: "Kendi notlarınız ve zihin haritalarınız üzerinden son genel tekrar." }]},
                { day: "Salı", title: "Sınav Stratejisi", tasks: [
                    { type: "Görev", content: "Sınav stratejinizi belirleyin (zaman yönetimi, mola kullanımı vb.)." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy: 'Taking the PMP Exam' (9dk), 'Time Management on the PMP' (12dk) videolarını izleyin." }
                ]},
                { day: "Çarşamba", title: "Moral Testi", tasks: [{ type: "Görev", content: "Hafif tempolu, moral yükseltici 50 soruluk bir test çözün." }]},
                { day: "Perşembe", title: "Dinlenme", tasks: [
                    { type: "Görev", content: "DERS ÇALIŞMAYIN! Zihninizi tamamen dinlendirin." },
                    { type: "Video Pekiştirme (Udemy)", content: "Udemy: '5 Things to do the day before your PMP Exam' (8dk) videosunu izleyin." }
                ]},
                { day: "Cuma", title: "SINAV GÜNÜ", tasks: [{ type: "Görev", content: "Hazırlığınıza güvenin ve rahatlayın. Başarılar!" }]}
            ]}
        ];


        document.addEventListener('DOMContentLoaded', () => {
            // This function initializes the entire application
            const planContainer = document.getElementById('study-plan-container');
            const phaseNavContainer = document.getElementById('phase-navigation');
            const totalDays = allWeeksData.reduce((acc, week) => acc + week.days.length, 0);
            let completedDays = 0;
            let state = {};

            // Information about the phases of the study plan
            const phaseInfo = {
                1: { name: "Faz 1: Temeller", weeks: 4 },
                2: { name: "Faz 2: Çeviklik", weeks: 4 },
                3: { name: "Faz 3: Yürütme & Kontrol", weeks: 2 },
                4: { name: "Faz 4: Simülasyon", weeks: 4 }
            };

            // Icons and colors for different task types for better visual distinction
            const taskIcons = {
                "Okunacak Bölümler": "fa-book-open",
                "Video Pekiştirme (Udemy)": "fa-play-circle",
                "Haftanın Quizleri": "fa-vial-circle-check",
                "Alınacak Notlar": "fa-pen-to-square",
                "Opsiyonel Tekrar": "fa-star",
                "Günün İpucu": "fa-lightbulb",
                "Görev": "fa-clipboard-check"
            };

            const taskColors = {
                "Okunacak Bölümler": "border-l-sky-500",
                "Video Pekiştirme (Udemy)": "border-l-red-500",
                "Haftanın Quizleri": "border-l-teal-500",
                "Alınacak Notlar": "border-l-amber-500",
                "Opsiyonel Tekrar": "border-l-purple-500",
                "Günün İpucu": "border-l-violet-500",
                "Görev": "border-l-indigo-500"
            };

            // Load user's progress from localStorage
            function loadState() {
                const savedState = localStorage.getItem('pmpPlanState');
                if (savedState) {
                    state = JSON.parse(savedState);
                }
            }

            // Save user's progress to localStorage
            function saveState() {
                localStorage.setItem('pmpPlanState', JSON.stringify(state));
            }

            // Update the main progress bar and summary text
            function updateProgress() {
                completedDays = Object.values(state).filter(Boolean).length;
                const progressPercentage = totalDays > 0 ? (completedDays / totalDays) * 100 : 0;
                const progressBar = document.getElementById('progress-bar');
                const progressText = document.getElementById('progress-text');
                const progressSummary = document.getElementById('progress-summary');

                progressBar.style.width = `${progressPercentage}%`;
                progressText.textContent = `${Math.round(progressPercentage)}%`;

                if (completedDays === 0) {
                     progressSummary.textContent = "Başlamak için ilk görevinizi işaretleyin!";
                } else if (completedDays === totalDays) {
                    progressSummary.textContent = `Tebrikler! ${totalDays} görevin tamamını bitirdiniz! Sınava hazırsınız!`;
                } else {
                    progressSummary.textContent = `${totalDays} görevden ${completedDays} tanesini tamamladınız. Harika gidiyorsunuz!`;
                }
            }

            // Renders the study plan weeks and days into the main container
            function renderPlan(filterPhase = null) {
                planContainer.innerHTML = '';
                const filteredWeeks = filterPhase ? allWeeksData.filter(w => w.phase === filterPhase) : allWeeksData;

                filteredWeeks.forEach(weekData => {
                    const weekId = `week-${weekData.week}`;
                    const isWeekCompleted = weekData.days.every(day => state[`${weekId}-${day.day}`]);

                    const weekElement = document.createElement('div');
                    weekElement.className = 'mb-4';
                    weekElement.innerHTML = `
                        <div id="${weekId}-header" class="week-header bg-white p-4 rounded-xl shadow-md cursor-pointer flex justify-between items-center transition-all duration-300 hover:shadow-lg ${isWeekCompleted ? 'completed' : ''}">
                            <div class="flex items-center overflow-hidden">
                                <span class="text-indigo-600 font-bold mr-4 text-lg">Hafta ${weekData.week}</span>
                                <h2 class="week-title text-xl font-semibold text-slate-700 truncate">${weekData.title}</h2>
                            </div>
                            <i class="fas fa-chevron-down transition-transform duration-300 flex-shrink-0 ml-4"></i>
                        </div>
                        <div id="${weekId}-content" class="px-4 pt-0" style="max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out;">
                            ${weekData.days.map(dayData => {
                                const dayId = `${weekId}-${dayData.day}`;
                                const isDayCompleted = state[dayId];
                                return `
                                    <div class="mt-4 p-5 bg-slate-50 rounded-lg shadow-inner">
                                        <div class="flex justify-between items-center mb-4">
                                            <h3 class="text-lg font-bold text-indigo-800">${dayData.day} - <span class="font-medium">${dayData.title}</span></h3>
                                            <div class="flex items-center">
                                                <label for="check-${dayId}" class="mr-2 text-sm text-slate-600 cursor-pointer">Tamamlandı</label>
                                                <input type="checkbox" id="check-${dayId}" data-day-id="${dayId}" class="h-5 w-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer" ${isDayCompleted ? 'checked' : ''}>
                                            </div>
                                        </div>
                                        <div class="space-y-3">
                                            ${dayData.tasks.map(task => `
                                                <div class="task-card flex items-start p-3 bg-white rounded-md border-l-4 ${taskColors[task.type] || 'border-l-slate-300'} ${isDayCompleted ? 'completed' : ''}">
                                                    <i class="fas ${taskIcons[task.type] || 'fa-check'} text-indigo-500 w-5 text-center mt-1 mr-3"></i>
                                                    <div>
                                                        <h4 class="font-bold text-slate-700">${task.type}</h4>
                                                        <p class="text-slate-600 text-sm">${task.content}</p>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                `
                            }).join('')}
                        </div>
                    `;
                    planContainer.appendChild(weekElement);
                });

                addEventListeners();
            }

            // Renders the phase navigation buttons
            function renderPhaseNavigation() {
                phaseNavContainer.innerHTML = `
                    <button class="phase-btn px-4 py-2 rounded-lg font-semibold transition-all duration-200 bg-white shadow-sm hover:bg-indigo-100 active" data-phase="all">Tüm Plan</button>
                    ${Object.entries(phaseInfo).map(([phaseNum, info]) => `
                        <button class="phase-btn px-4 py-2 rounded-lg font-semibold transition-all duration-200 bg-white shadow-sm hover:bg-indigo-100" data-phase="${phaseNum}">${info.name}</button>
                    `).join('')}
                `;

                phaseNavContainer.addEventListener('click', e => {
                    if (e.target.tagName === 'BUTTON') {
                        const phase = e.target.dataset.phase === 'all' ? null : parseInt(e.target.dataset.phase);
                        renderPlan(phase);
                        document.querySelectorAll('.phase-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                    }
                });
            }

            // Adds event listeners for accordions and checkboxes
            function addEventListeners() {
                // Accordion functionality
                document.querySelectorAll('.week-header').forEach(header => {
                    header.addEventListener('click', () => {
                        const content = header.nextElementSibling;
                        const icon = header.querySelector('i');
                        
                        // Close other open accordions
                        document.querySelectorAll('.week-header').forEach(otherHeader => {
                            if (otherHeader !== header) {
                                otherHeader.nextElementSibling.style.maxHeight = '0px';
                                otherHeader.querySelector('i').classList.remove('rotate-180');
                            }
                        });

                        // Toggle the clicked accordion
                        if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                            content.style.maxHeight = '0px';
                            icon.classList.remove('rotate-180');
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.classList.add('rotate-180');
                        }
                    });
                });

                // Checkbox functionality for tracking progress
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const dayId = e.target.dataset.dayId;
                        state[dayId] = e.target.checked;

                        // Apply 'completed' style to task cards
                        const taskCardsContainer = e.target.closest('.bg-slate-50');
                        const taskCards = taskCardsContainer.querySelectorAll('.task-card');
                        taskCards.forEach(card => e.target.checked ? card.classList.add('completed') : card.classList.remove('completed'));
                        
                        // Check if the entire week is completed
                        const weekId = dayId.split('-')[0] + '-' + dayId.split('-')[1];
                        const weekData = allWeeksData.find(w => `week-${w.week}` === weekId);
                        const allDaysInWeekCompleted = weekData.days.every(day => state[`${weekId}-${day.day}`]);
                        const weekHeader = document.getElementById(`${weekId}-header`);

                        if (allDaysInWeekCompleted) {
                            weekHeader.classList.add('completed');
                        } else {
                            weekHeader.classList.remove('completed');
                        }

                        updateProgress();
                        saveState();
                    });
                });
            }
            
            // Initializes the Chart.js doughnut chart for phase distribution
            function initializeChart() {
                const ctx = document.getElementById('phase-chart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: Object.values(phaseInfo).map(p => p.name),
                        datasets: [{
                            label: 'Hafta Sayısı',
                            data: Object.values(phaseInfo).map(p => p.weeks),
                            backgroundColor: [
                                'rgba(99, 102, 241, 0.7)',  // indigo-500
                                'rgba(129, 140, 248, 0.7)', // indigo-400
                                'rgba(165, 180, 252, 0.7)', // indigo-300
                                'rgba(199, 210, 254, 0.7)'  // indigo-200
                            ],
                            borderColor: [
                                'rgb(99, 102, 241)',
                                'rgb(129, 140, 248)',
                                'rgb(165, 180, 252)',
                                'rgb(199, 210, 254)'
                            ],
                            borderWidth: 1,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    boxWidth: 12,
                                    padding: 15,
                                    font: { size: 10 }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Planın Faz Dağılımı',
                                font: { size: 14, weight: 'bold' }
                            }
                        }
                    }
                });
            }

            // Initial application setup
            loadState();
            renderPhaseNavigation();
            renderPlan();
            updateProgress();
            initializeChart();
        });
    </script>
</body>
</html>
